/* ============================================
   CALENDAR STYLES
   ============================================ */

/* === Calendar Container === */
.calendar {
    background: var(--surface-primary);
    backdrop-filter: blur(var(--blur-lg));
    border: 1px solid var(--border-light);
    border-radius: var(--radius-2xl);
    overflow: hidden;
}

/* === Calendar Header (Days) === */
.calendar-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    background: var(--surface-secondary);
    border-bottom: 1px solid var(--border-light);
}

.calendar-header-cell {
    padding: var(--space-4);
    text-align: center;
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--text-secondary);
}

.calendar-header-cell.weekend {
    color: var(--text-muted);
}

/* === Calendar Grid (Month View) === */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(6, minmax(100px, 1fr));
}

.calendar-cell {
    min-height: 100px;
    padding: var(--space-2);
    border-right: 1px solid var(--border-light);
    border-bottom: 1px solid var(--border-light);
    cursor: pointer;
    transition: background var(--duration-fast) var(--ease-out);
    position: relative;
}

.calendar-cell:nth-child(7n) {
    border-right: none;
}

.calendar-cell:hover {
    background: var(--surface-glass);
}

.calendar-cell.other-month {
    background: var(--surface-secondary);
    opacity: 0.5;
}

.calendar-cell.today {
    background: rgba(99, 102, 241, 0.05);
}

.calendar-cell.selected {
    background: rgba(99, 102, 241, 0.1);
}

.calendar-cell.weekend {
    background: var(--surface-secondary);
}

/* === Date Number === */
.calendar-date {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    border-radius: var(--radius-full);
    margin-bottom: var(--space-1);
}

.calendar-cell.today .calendar-date {
    background: var(--primary-500);
    color: white;
    font-weight: var(--font-semibold);
}

.calendar-cell.other-month .calendar-date {
    color: var(--text-muted);
}

/* === Calendar Events === */
.calendar-events {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.calendar-event {
    padding: 2px var(--space-2);
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    border-radius: var(--radius-sm);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    transition: transform var(--duration-fast) var(--ease-out);
}

.calendar-event:hover {
    transform: translateX(2px);
}

.calendar-event.work {
    background: rgba(99, 102, 241, 0.2);
    color: var(--cat-work);
}

.calendar-event.personal {
    background: rgba(236, 72, 153, 0.2);
    color: var(--cat-personal);
}

.calendar-event.health {
    background: rgba(34, 197, 94, 0.2);
    color: var(--cat-health);
}

.calendar-event.learning {
    background: rgba(139, 92, 246, 0.2);
    color: var(--cat-learning);
}

.calendar-event.finance {
    background: rgba(234, 179, 8, 0.2);
    color: var(--cat-finance);
}

.calendar-event.social {
    background: rgba(6, 182, 212, 0.2);
    color: var(--cat-social);
}

.calendar-more {
    font-size: var(--text-xs);
    color: var(--text-muted);
    padding: 2px var(--space-2);
    cursor: pointer;
}

.calendar-more:hover {
    color: var(--primary-500);
}

/* === Week View === */
.calendar-week {
    display: flex;
    flex-direction: column;
}

.calendar-week-header {
    display: grid;
    grid-template-columns: 60px repeat(7, 1fr);
    border-bottom: 1px solid var(--border-light);
}

.calendar-week-header-cell {
    padding: var(--space-3);
    text-align: center;
    border-right: 1px solid var(--border-light);
}

.calendar-week-header-cell:last-child {
    border-right: none;
}

.calendar-week-day-name {
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    color: var(--text-muted);
    text-transform: uppercase;
}

.calendar-week-day-num {
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    color: var(--text-primary);
}

.calendar-week-day-num.today {
    width: 40px;
    height: 40px;
    margin: 0 auto;
    background: var(--primary-500);
    color: white;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
}

.calendar-week-body {
    display: grid;
    grid-template-columns: 60px repeat(7, 1fr);
    max-height: calc(100vh - 300px);
    overflow-y: auto;
}

.calendar-week-times {
    display: flex;
    flex-direction: column;
}

.calendar-week-time {
    height: 60px;
    padding: var(--space-2);
    font-size: var(--text-xs);
    color: var(--text-muted);
    text-align: right;
    border-right: 1px solid var(--border-light);
}

.calendar-week-column {
    position: relative;
    border-right: 1px solid var(--border-light);
}

.calendar-week-column:last-child {
    border-right: none;
}

.calendar-week-slot {
    height: 60px;
    border-bottom: 1px solid var(--border-light);
    position: relative;
}

.calendar-week-slot:hover {
    background: var(--surface-glass);
}

/* === Day View === */
.calendar-day {
    display: flex;
    flex-direction: column;
    max-height: calc(100vh - 250px);
    overflow-y: auto;
}

.calendar-day-slot {
    display: flex;
    min-height: 60px;
    border-bottom: 1px solid var(--border-light);
}

.calendar-day-time {
    width: 80px;
    padding: var(--space-2) var(--space-3);
    font-size: var(--text-sm);
    color: var(--text-muted);
    text-align: right;
    flex-shrink: 0;
    border-right: 1px solid var(--border-light);
}

.calendar-day-content {
    flex: 1;
    padding: var(--space-2);
    position: relative;
    cursor: pointer;
}

.calendar-day-content:hover {
    background: var(--surface-glass);
}

/* === Agenda View === */
.calendar-agenda {
    padding: var(--space-4);
}

.agenda-group {
    margin-bottom: var(--space-6);
}

.agenda-date {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-light);
}

.agenda-date-day {
    width: 48px;
    height: 48px;
    background: var(--surface-glass);
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.agenda-date-day.today {
    background: var(--primary-500);
    color: white;
}

.agenda-date-num {
    font-size: var(--text-lg);
    font-weight: var(--font-bold);
}

.agenda-date-weekday {
    font-size: var(--text-xs);
    text-transform: uppercase;
}

.agenda-date-full {
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

.agenda-events {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    padding-left: 60px;
}

.agenda-event {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-3) var(--space-4);
    background: var(--surface-glass);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--primary-500);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
}

.agenda-event:hover {
    background: var(--surface-glass-hover);
    transform: translateX(4px);
}

.agenda-event-time {
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--text-tertiary);
    min-width: 100px;
}

.agenda-event-title {
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--text-primary);
    flex: 1;
}

.agenda-event-category {
    font-size: var(--text-xs);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-full);
}

/* === Mini Calendar (Sidebar) === */
.mini-calendar {
    padding: var(--space-4);
}

.mini-calendar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-4);
}

.mini-calendar-title {
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
}

.mini-calendar-nav {
    display: flex;
    gap: var(--space-1);
}

.mini-calendar-nav button {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    transition: all var(--duration-fast);
}

.mini-calendar-nav button:hover {
    background: var(--surface-glass);
}

.mini-calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--space-1);
}

.mini-calendar-day {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    color: var(--text-secondary);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--duration-fast);
}

.mini-calendar-day:hover {
    background: var(--surface-glass);
}

.mini-calendar-day.header {
    font-size: 10px;
    color: var(--text-muted);
    cursor: default;
}

.mini-calendar-day.header:hover {
    background: transparent;
}

.mini-calendar-day.other {
    color: var(--text-muted);
    opacity: 0.5;
}

.mini-calendar-day.today {
    background: var(--primary-500);
    color: white;
}

.mini-calendar-day.selected {
    background: rgba(99, 102, 241, 0.2);
    color: var(--primary-500);
}

.mini-calendar-day.has-events::after {
    content: '';
    position: absolute;
    bottom: 2px;
    width: 4px;
    height: 4px;
    background: var(--primary-500);
    border-radius: var(--radius-full);
}